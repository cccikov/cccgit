<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<title>闭包</title>
	</head>

	<body>
		<script type="text/javascript">
			var name = "The Window";　　
			var object = {　　　　
				name: "My Object",
			　　　getNameFunc: function() {　　　　　　
					return function() {　　　　　　　　
						return this.name;　　　　　　
					}　　
				}　　
			};
			// 　　alert(object.getNameFunc()());//the window

			var name = "The Window";　　
			var object = {　　　　
				name: "My Object",
			　　　getNameFunc: function() {　　　　　　
					var that = this;　　　　
					console.log(that);　　
					return function() {　　　　　　　　
						return that.name;　　　　　　
					}　　　　
				}　　
			};
			alert(object.getNameFunc()());//My Object

//			function f1() {　　　　
//				var n = 999;　　　　
//				nAdd = function() {
//					n += 1
//				}　　　　
//				function f2() {　　　　　　
//					alert(n);　　　　
//				}　　　　
//				return f2;　　
//			}　　
//			
//			var result = f1();　　
//			result(); // 999
//			nAdd();　　
//			result(); // 1000
//			
//			alert(n);

			function f1(){
				var n=0;
				function add(){
					n+=1;
					console.log(n);
				}
				return add;
			}
			var f2 = f1();
			f2();
			f2();
		</script>
	</body>

</html>