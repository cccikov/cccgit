<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>对象2</title>
	</head>

	<body>
		<script type="text/javascript">
			function Person() {}
			Person.prototype.name = "Nocholas";
			Person.prototype.age = 25;
			Person.prototype.job = "Software Engineer";
			Person.prototype.sayName = function() {
				alert(this.name);
			}
			/*Person.prototype = {
				constructor: Person,
				name: "Nocholas",
				age: 25,
				job: "Software Engineer",
				sayName: function() {
					alert(this.name);
				}
			}*/
	
			var person1 = new Person();

			/*
			 * 实例内部有一个叫做[[prototype]]的指针，指向构造函数的原型对象。
			 * 但是我们却无法访问[[prototype]]。
			 * 
			 * isPrototypeof()方法，用于检测特定实例是否原型的实例，true表示是。
			 */
			console.log(Person.prototype.isPrototypeOf(person1)); //true,表示person1实例的[[prototype]]指向Person Prototype

			/*
			 * getPrototypeOf()方法，用于返回实例的[[prototype]]值
			 */
			console.log(Object.getPrototypeOf(person1) == Person.prototype); //true ,Object.getPrototypeOf(person1)返回实际是就是这个对象的原型Person Prototype
			console.log(Object.getPrototypeOf(person1).name); //Nocholas 这里是对象原型的name

			console.log("%c-----------我是分隔符-----------", "color:red");

			console.log(person1.name); //Nocholas，来自原型
			person1.name = "ccc";
			console.log(person1.name); //ccc，来自实例
			console.log(Object.getPrototypeOf(person1).name); //Nocholas，来自原型

			//可以通过实例访问原型中的值，但却不能通过实例来重写原型中的值。

			delete person1.name; //删除实例属性
			console.log(person1.name); //Nocholas，来自原型

			/*
			 * hasOwnProperty()方法，用于检测属性是存在于实例，还是原型，true表示来自实例
			 */
			person1.age = 50;
			console.log(person1.hasOwnProperty("name")); //false,表示属性来自于原型
			console.log(person1.hasOwnProperty("age")); //true,表示属性来自于实例

			//in 操作符 有两种方式使用in操作符:单独使用和在for-in循环中使用。单独使用时，in操作符会在通过对象能够访问给定属性时返回true,无论该属性存在于实例中还是原型中。
			console.log("name" in person1); //true
			console.log("age" in person1); //true

			function hasPrototypeProperty(obj, name) { // 属性只存在于对象中
				return !obj.hasOwnProperty(name) && (name in obj);
			}

			console.log(hasPrototypeProperty(person1, "name")); //true 属性在原型中
			console.log(hasPrototypeProperty(person1, "age")); //false 属性在对象中
			
			console.log("%c-----------我是分隔符-----------", "color:red");
			
			//枚举属性
			for(var pro in person1){
				console.log("person1."+pro,"=",person1[pro]);
			}
			//除了 constructor和prototype属性外，其他属性都被枚举出来
			// Object.keys()方法  ECMAScript5，返回一个包含所有可枚举的字符串
			console.log(Object.keys(person1.constructor.prototype));//等价于Object.keys(Person.prototype)
			
		</script>
	</body>

</html>