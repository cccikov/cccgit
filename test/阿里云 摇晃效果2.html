<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>阿里云摇晃效果2</title>
    <style type="text/css">
    * {
        padding: 0;
        margin: 0;
    }

    #wrap {
        position: relative;
    }

    html,
    body {
        position: relative;
        height: 100%;
        background: #24282c linear-gradient(-180deg, rgba(55, 60, 65, 0.00) 38%, #00DEFF 100%);
        ;
    }


    #wrap {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate3d(-50%, -50%, 0);
        width: 800px;
        height: 600px;
        /* border: 1px solid red; */
        margin: 10px;
        perspective: 1000px;
        overflow: hidden;
    }

    #trans {
        transform-style: preserve-3d;
        width: 100%;
        height: 100%;
        /*居中好重要,因为#trans的父元素是设置景深的元素*/
    }

    .out,
    .mid,
    .in {
        position: absolute;
        top: 0;
        left: 0;
        width: 800px;
        height: 600px;
        line-height: 600px;
    }

    img {
        max-width: 100%;
        vertical-align: middle;
    }

    .out {
        transform: translate3d(0, 0, 150px);
    }

    .mid {
        transform: translate3d(0, 0, 100px);
    }

    .in {
        transform: translate3d(0, 0, 50px);
    }
    </style>
</head>

<body>
    <div id="wrap">
        <div id="trans">
            <div class="out">
                <img src="img/ali150.png" />
            </div>
            <div class="mid">
                <img src="img/ali100.png" />
            </div>
            <div class="in">
                <img src="img/ali50.png" />
            </div>
        </div>
    </div>
    <script src='js/jquery.min.js' type="text/javascript"></script>
    <script type="text/javascript">
    $(function() {
        $("body").on("mousemove", function(e) {
            var that = $(this);
            var trans = $("#trans");
            var l = trans.offset().left;
            var t = trans.offset().top;
            var w = trans.width();
            var h = trans.height();

            angleX = (e.clientX - l - w / 2) / 120; // l + w / 2 就是图像中点的位置
            angleY = (e.clientY - t - h / 2) / 120;
            trans.css("transform", "rotate3d(1,0,0," + angleY + "deg) rotate3d(0,1,0," + -angleX + "deg)")
        });
    });
    </script>
</body>

</html>
