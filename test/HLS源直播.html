<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 导入的videojs是7.0版本以上的，集成VHS协议库，可播放HLS流媒体视频 -->
    <link href="../node_modules/video.js/dist/video-js.min.css" rel="stylesheet">
    <script src="../node_modules/video.js/dist/video.min.js"></script>
    <style>
        /* 这三个都是默认 用 css 隐藏的 对应组件为 */
        /* CurrentTimeDisplay */
        /* DurationDisplay */
        /* TimeDivider */
        .video-js .vjs-current-time,
        .video-js .vjs-duration,
        .video-js .vjs-time-divider {
            display: block;
        }
    </style>
    <title>HLS源直播</title>
</head>

<body>
    <video id='myvideo' width="960" height="540" class="video-js vjs-default-skin" controls>
        <!-- hls直播源地址：CCTV1高清 -->
        <!-- <source src="http://ivi.bupt.edu.cn/hls/hunanhd.m3u8"> -->
        <source src="./video/BigBuckBunny_640x360.ogv">
    </video>
    <script>
        let myvideo = document.getElementById("myvideo");
        var player = videojs(myvideo, {}, function () { console.log('videojs播放器初始化成功') }) // 返回 Player 实例

        /* 返回组件 */

        /*
         * 默认组件 自带组件

        Player
        ├── MediaLoader (has no DOM element)
        ├── PosterImage
        ├── TextTrackDisplay
        ├── LoadingSpinner
        ├── BigPlayButton
        ├── LiveTracker (has no DOM element)
        ├─┬ ControlBar
        │ ├── PlayToggle
        │ ├── VolumePanel
        │ ├── CurrentTimeDisplay (hidden by default)
        │ ├── TimeDivider (hidden by default)
        │ ├── DurationDisplay (hidden by default)
        │ ├─┬ ProgressControl (hidden during live playback, except when liveui: true)
        │ │ └─┬ SeekBar
        │ │   ├── LoadProgressBar
        │ │   ├── MouseTimeDisplay
        │ │   └── PlayProgressBar
        │ ├── LiveDisplay (hidden during VOD playback)
        │ ├── SeekToLive (hidden during VOD playback)
        │ ├── RemainingTimeDisplay
        │ ├── CustomControlSpacer (has no UI)
        │ ├── PlaybackRateMenuButton (hidden, unless playback tech supports rate changes)
        │ ├── ChaptersButton (hidden, unless there are relevant tracks)
        │ ├── DescriptionsButton (hidden, unless there are relevant tracks)
        │ ├── SubtitlesButton (hidden, unless there are relevant tracks)
        │ ├── CaptionsButton (hidden, unless there are relevant tracks)
        │ ├── SubsCapsButton (hidden, unless there are relevant tracks)
        │ ├── AudioTrackButton (hidden, unless there are relevant tracks)
        │ ├── PictureInPictureToggle
        │ └── FullscreenToggle
        ├── ErrorDisplay (hidden, until there is an error)
        ├── TextTrackSettings
        └── ResizeManager (hidden)

        */

        /* 组件对应相关的按钮功能 */
        let children = player.children().map(v => v.name_);
        let controlBar = player.getChild("ControlBar");
        let controlBar_children = controlBar.children().map(v => v.name_);

        player.removeChild("ErrorDisplay")
        // player.removeChild("BigPlayButton")

        controlBar.removeChild("VolumePanel")
        controlBar.removeChild("AudioTrackButton")
        controlBar.removeChild("PictureInPictureToggle")
        controlBar.removeChild("FullscreenToggle")
        controlBar.removeChild("RemainingTimeDisplay")

        console.log(children)
        console.log(controlBar)
        console.log(controlBar_children)

        console.log(player.paused())

        // player.play();
        // player.pause();
        // player.dispose();
        // player.src(src);
        // player.options(obj);
    </script>
</body>

</html>