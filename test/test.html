<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>设备检测</title>
</head>

<body>
    <script type="text/javascript">
    // 不太准
    function parseUA() {
        var u = navigator.userAgent;
        var u2 = navigator.userAgent.toLowerCase();
        return { //移动端浏览器版本信息
            "trident": u.indexOf('Trident') > -1, //ie内核
            "presto": u.indexOf('Presto') > -1, //opera内核
            "webKit": u.indexOf("AppleWebKit") > -1, //苹果、谷歌内核
            "gecko": u.indexOf("Gecko") > -1 && u.indexOf("KHTML") > -1, //火狐内核
            "mobile": !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动端
            "ios": !!u.match(/\(i[^;]+;( U;)?CPU.+Mac OS X/), //ios
            "android": u.indexOf("Android") > -1 || u.indexOf("Linux") > -1, //android终端或uc浏览器
            "iphone": u.indexOf('iPhone') > -1, //iphone
            "iPad": u.indexOf('iPad') > -1, //ipad
            "webApp": u.indexOf("Safari") == -1, //是否web应用程序，没有头部和尾部
            "iosv": u.substr(u.indexOf("iPhone OS") + 9, 3),
            "weixin": u2.match(/MicroMessenger/i) == 'micromessenger',
            "ali": u.indexOf('AliApp') > -1,
        };
    }
    var ua = parseUA();

    var theReg = {
        "chinese": /^[\u4e00-\u9fa5]{0,}$/, //校验中文字符串仅能是中文
        "common": /^\w+$/, //由数字、26个英文字母或下划线组成的字符串
    }


    console.log(getName);//function getName(){console.log(5);} 由于声明提升

    function Foo() {
        getName = function() {
            console.log(1);
        };
        console.log(this);
        return this;
    }
    Foo.getName = function() {
        console.log(2);
    };
    Foo.prototype.getName = function() {
        console.log(3);
    };
    var getName = function() {
        console.log(4);
    };

    function getName() {
        console.log(5);
    };

    Foo.getName(); //2
    getName(); //4 由于声明提升 所以getName（5）会被4覆盖
    Foo().getName();//1 因为不是this.getName 所以里面的getName就是变量getName，重新赋值。
    getName(); //1
    new Foo.getName(); //2
    new Foo().getName(); //3 因为Foo构造函数里面不是使用this.getName 所以是调用prototype里面的方法
    new new Foo().getName(); //3
    </script>
</body>

</html>
