<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>屏幕坏点测试</title>
    <style type="text/css">
    html,
    body {
        background: #000;
    }
    </style>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        var _index = 0;
        var color = ["#000", "#f00", "#f0f", "#00f", "#0ff", "#0f0", "#ff0", "#fff"];

        function tap() {
            _index++;
            if (_index >= color.length) {
                _index = 0;
            }
            $("html").add("body").css("background", color[_index]);
        }

        $("html").on("touchstart", function(e) {

            var oriTime = new Date().getTime();
            var _that = $(this);
            var oriY = e.originalEvent.touches[0].clientY;
            var oriX = e.originalEvent.touches[0].clientX;
            var moveFlag = false;

            _that.on("touchmove", function() {
                var nowY = e.originalEvent.touches[0].clientY;
                var nowX = e.originalEvent.touches[0].clientX;
                var nowTime = new Date().getTime();
                var deltaTime = nowTime - oriTime;
            });

            _that.on("touchend", function() {
                var nowTime = new Date().getTime();
                var deltaTime = nowTime - oriTime;
                if (deltaTime < 300 && !moveFlag) {
                    tap();
                }
                _that.off("touchend").off("touchmove");
            });
        });

    });
    </script>
</head>

<body>
</body>

</html>
