<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>flex-溢出文字3</title>
    <style type="text/css">
    [id*=demo] {
        margin: 12px 0;
        box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.3);
    }

    .elli {
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        outline: 1px solid #f00;
    }
    </style>
</head>

<body>
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <div id="demo1">
        <div>
            <div>
                <div>
                    <div>
                        <p class="elli">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style type="text/css">
    #demo1 div {
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flex;
        display: -o-flex;
        display: flex;
    }
    </style>
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <div id="demo2">
        <div>
            <div>
                <div>
                    <div class="inner">
                        <p class="elli">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style type="text/css">
    #demo2 div {
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flex;
        display: -o-flex;
        display: flex;
    }

    #demo2 .inner {
        /*单独设某层以下属性，还是会撑开；因为只是某层设置，但它的父元素还是flex元素的话，并且没有进行宽度限制，通过百分比或者min-width的限制是无效的；因为父元素同样是可被撑开的，是根据子元素决定，但是子元素的宽度又是百分比，所以相互依赖这就矛盾，所以父元素还是保持被撑开，百分比限制变得无意义。除非是特定数值，但是设定特定数值很难满足自适应*/
        /*min-width: 0px;
        overflow:hidden;
        width: 100%;
        max-width: 100%;*/

        /*width:500px;*/

        width: 50%;
        /*其实百分比还是有效，还是可以成功将溢出变为省略号的，但是不是我们所想的再可视范围内变成省略号*/
        /*对于宽度是由内容决定的元素来说，子元素设定百分百宽度是没有任何限制效果的；因为宽度由内容决定，子元素的宽度也由父元素决定，而且还是设定百分百，所以就不存在溢出，就不会出现省略号*/
    }
    </style>
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <div id="demo3">
        <div>
            <div>
                <div>
                    <div class="inner">
                        <p class="elli">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style type="text/css">
    #demo3 div {
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flex;
        display: -o-flex;
        display: flex;
        /*注意是每层限制*/
        /*min-width: 0px;*/
        /*overflow:hidden;*/
        width: 100%;
        /*max-width: 100%;*/
        /* 由于层层限制，所以宽度是被限制成功了。但是这样做好麻烦，特别是代码不是自己写的时候，或者使用插件，怎么知道哪些父元素是弹性元素 */
    }
    </style>
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <!--  -->
    <div id="demo4">
        <div class="flex first-flex">
            <div>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aperiam, asperiores.</p>
                <p>下面flex限制的宽度受兄弟元素宽度的影响，所以一般是用在有兄弟元素宽度占满父元素的情况下</p>
                <div class="flex">
                    <div class="inner">
                        <p class="elli">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                            consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
                            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <style type="text/css">
    #demo4 .flex {
        display: -webkit-flex;
        display: -moz-flex;
        display: -ms-flex;
        display: -o-flex;
        display: flex;
    }



    #demo4 .inner {
        flex: 1 1 auto;
        width: 1px;
        /*由于last-flex上面兄弟元素撑大他们的父元素（是flex元素来的），导致该父元素充满空间（虽然是弹性元素，但在自适应时，除了子元素撑开，都不会超出父元素的内容区域）。导致last-flex的宽度也是充满，而inner设定的宽度是好小，已经实实在在地限制空间，所以溢出有效，但是由于flex属性的flex-grow属性，让inner自动填满剩余空间，就可以做出在可视区域实现溢出变省略号*/
        /* 由于固定死了宽度为1px，已经是可以限制空间；配合flex-grow来扩充自己 */
        /*关键，flex布局的尺寸是先根据元素本身的width，height布局，然后再通过flex属性去分配剩余空间*/
        /*先其他属性，再flex属性*/

        /*min-width 不行是因为元素可以先被子元素继续撑开，再flex分配空间已经没意义*/
        /*max-width 固定值可以，但是会影响元素分配剩余空间，达不到占满效果；百分还是之前的问题*/

        /*flex: 0 1 100px;
        overflow: hidden;*/
        /* 直接使用flex-base也不行，因为除非您明确指定“最小宽度”或“宽度”或“最大宽度”，否则flex元素将拒绝缩小到最小内在宽度以下。 */
        /* 所以 使用flex-base代替width的时候，请加上overflow;但是flex-base百分没意义，固定数值影响自适应，所以只能用width*/
    }





    #demo4 .first-flex>div{
        flex:1 1 auto;
    }
    </style>
    一般不用固定数值来达到限制，特别是宽度，因为总觉得有点别扭；但是固定数值的限制可以减少层层限制带来的麻烦
</body>

</html>